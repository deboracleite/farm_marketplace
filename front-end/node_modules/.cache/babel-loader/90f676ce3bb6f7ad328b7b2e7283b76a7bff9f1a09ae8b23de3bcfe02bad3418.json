{"ast":null,"code":"var _jsxFileName = \"/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/src/Components/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport logoMarket from \"../Images/Logo_MarketPlace.png\";\nimport { Container } from \"./LoginStyle\";\nimport { AppContext } from './AppProvider';\n// import '../Styles/login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const {\n    user\n  } = useContext(AppContext);\n  const navigate = useNavigate();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [message, setmMssage] = useState('');\n  const handleSubmit = event => {\n    event.preventDefault();\n    var that = this;\n    fetch(user + 'login.php', {\n      // fetch('http://localhost/backend/login.php', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        Email: email,\n        Password: password\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      if (data.status) {\n        sessionStorage.setItem(\"id\", data.UserId);\n        sessionStorage.setItem(\"name\", data.FirstName);\n        sessionStorage.setItem(\"typeOfAccount\", data.TypeAccount);\n        sessionStorage.setItem(\"accountID\", data.accountID);\n        setmMssage(data.message);\n        navigate('/');\n      } else {\n        setmMssage('Invalid user');\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: logoMarket,\n      className: \"farmLogin\",\n      alt: \"logo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"formLogin\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        children: \"Email \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"loginInput\",\n        type: \"text\",\n        name: \"email\",\n        placeholder: \"email\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"Password \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"loginInput\",\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      className: \"linkTo\",\n      to: \"/createAccount\",\n      children: \"Create Account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"Ib/fLOhWoxo9ZWX/4FijLjtJO9U=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\n\n//    class Login extends Component {\n//     constructor(props) {\n//         super(props);\n//         this.state = {\n//             email: '',\n//             password: '',\n//             message: ''\n//         }; \n\n//     }\n//     handleChange = event => {\n//         this.setState({ [event.target.name]: event.target.value });\n//     };\n//     handleSubmit = event => {\n//         event.preventDefault();\n//         var that = this;\n\n//         fetch('http://localhost:5000/www/login.php', {\n//         // fetch('http://localhost/backend/login.php', {\n//             method: 'POST',\n//             headers: {\n//             'Content-Type': 'application/json'\n//             },\n//             body: JSON.stringify({\n//                 Email: this.state.email,\n//                 Password: this.state.password\n//             }) \n//         })\n//         .then(function (response) {\n//             return response.json();\n//         })\n//         .then(function (data) {\n//             if(data.status){\n//                 sessionStorage.setItem(\"id\", data.UserId);\n//                 sessionStorage.setItem(\"name\", data.FirstName);\n//                 sessionStorage.setItem(\"typeOfAccount\", data.TypeAccount);\n//                 sessionStorage.setItem(\"accountID\", data.accountID);\n//                that.setState({...that.state, message: data.message})\n//                window.location.replace(\"/\");\n//             }else{\n//                 that.setState({...that.state, message: 'Invalid user'})\n//             }\n\n//         });\n//     }; \n\n// render() {\n//     return (\n//         <Container>\n//             <img src={logoMarket} className=\"farmLogin\" alt=\"logo\" />\n//             <form className=\"formLogin\" onSubmit={this.handleSubmit}>\n//                 <label htmlFor=\"email\">Email </label> \n//                 <input className = \"loginInput\" type=\"text\" name=\"email\" placeholder=\"email\" value={this.state.username} onChange={this.handleChange} required/>\n//                 <br/>\n//                 <label htmlFor=\"password\">Password </label> \n//                 <input className = \"loginInput\" type=\"password\" name=\"password\" placeholder=\"Password\" value={this.state.password} onChange={this.handleChange}required/>\n//                 <br/>\n//                 <button type=\"submit\">Login</button>\n//                 <p>{this.state.message}</p>\n//             </form>\n//             <Link className='linkTo' to=\"/createAccount\">Create Account</Link>\n//             {/* <Link className='linkTo' to=\"/www/createAccount\">Create Account</Link> */}\n\n//         </Container>\n//     );\n//     }\n// }\n\n//    export default Login; \nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Link","useNavigate","logoMarket","Container","AppContext","Login","user","useContext","navigate","email","setEmail","password","setPassword","message","setmMssage","handleSubmit","event","preventDefault","that","fetch","method","headers","body","JSON","stringify","Email","Password","then","response","json","data","status","sessionStorage","setItem","UserId","FirstName","TypeAccount","accountID","e","target","value"],"sources":["/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/src/Components/Login.js"],"sourcesContent":["\nimport React, {useState} from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport logoMarket from \"../Images/Logo_MarketPlace.png\"\nimport { Container } from \"./LoginStyle\";\nimport { AppContext } from './AppProvider'\n// import '../Styles/login.css';\n\nconst Login  = () => {\n    const { user} = useContext(AppContext);\n    const navigate = useNavigate();\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [message, setmMssage] = useState('');\n\n\n    const handleSubmit = event => {\n        event.preventDefault();\n        var that = this;\n        \n        fetch(user + 'login.php', {\n        // fetch('http://localhost/backend/login.php', {\n            method: 'POST',\n            headers: {\n            'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                Email: email,\n                Password: password\n            }) \n        })\n        .then(function (response) {\n            return response.json();\n        })\n        .then(function (data) {\n            if(data.status){\n                sessionStorage.setItem(\"id\", data.UserId);\n                sessionStorage.setItem(\"name\", data.FirstName);\n                sessionStorage.setItem(\"typeOfAccount\", data.TypeAccount);\n                sessionStorage.setItem(\"accountID\", data.accountID);\n                setmMssage(data.message);\n                navigate('/');\n            }else{\n                setmMssage('Invalid user');\n            }\n            \n        });\n    }; \n\n\n    return (\n        <Container>\n            <img src={logoMarket} className=\"farmLogin\" alt=\"logo\" />\n            <form className=\"formLogin\" onSubmit={handleSubmit}>\n                <label htmlFor=\"email\">Email </label> \n                <input className = \"loginInput\" type=\"text\" name=\"email\" placeholder=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} required/>\n                <br/>\n                <label htmlFor=\"password\">Password </label> \n                <input className = \"loginInput\" type=\"password\" name=\"password\" placeholder=\"Password\" value={password} onChange={(e) => setPassword(e.target.value)} required/>\n                <br/>\n                <button type=\"submit\">Login</button>\n                <p>{message}</p>\n            </form>\n            <Link className='linkTo' to=\"/createAccount\">Create Account</Link>\n            {/* <Link className='linkTo' to=\"/www/createAccount\">Create Account</Link> */}\n\n        </Container>\n    );\n}\n\n   export default Login; \n\n\n\n\n//    class Login extends Component {\n//     constructor(props) {\n//         super(props);\n//         this.state = {\n//             email: '',\n//             password: '',\n//             message: ''\n//         }; \n    \n//     }\n//     handleChange = event => {\n//         this.setState({ [event.target.name]: event.target.value });\n//     };\n//     handleSubmit = event => {\n//         event.preventDefault();\n//         var that = this;\n        \n//         fetch('http://localhost:5000/www/login.php', {\n//         // fetch('http://localhost/backend/login.php', {\n//             method: 'POST',\n//             headers: {\n//             'Content-Type': 'application/json'\n//             },\n//             body: JSON.stringify({\n//                 Email: this.state.email,\n//                 Password: this.state.password\n//             }) \n//         })\n//         .then(function (response) {\n//             return response.json();\n//         })\n//         .then(function (data) {\n//             if(data.status){\n//                 sessionStorage.setItem(\"id\", data.UserId);\n//                 sessionStorage.setItem(\"name\", data.FirstName);\n//                 sessionStorage.setItem(\"typeOfAccount\", data.TypeAccount);\n//                 sessionStorage.setItem(\"accountID\", data.accountID);\n//                that.setState({...that.state, message: data.message})\n//                window.location.replace(\"/\");\n//             }else{\n//                 that.setState({...that.state, message: 'Invalid user'})\n//             }\n            \n//         });\n//     }; \n\n\n// render() {\n//     return (\n//         <Container>\n//             <img src={logoMarket} className=\"farmLogin\" alt=\"logo\" />\n//             <form className=\"formLogin\" onSubmit={this.handleSubmit}>\n//                 <label htmlFor=\"email\">Email </label> \n//                 <input className = \"loginInput\" type=\"text\" name=\"email\" placeholder=\"email\" value={this.state.username} onChange={this.handleChange} required/>\n//                 <br/>\n//                 <label htmlFor=\"password\">Password </label> \n//                 <input className = \"loginInput\" type=\"password\" name=\"password\" placeholder=\"Password\" value={this.state.password} onChange={this.handleChange}required/>\n//                 <br/>\n//                 <button type=\"submit\">Login</button>\n//                 <p>{this.state.message}</p>\n//             </form>\n//             <Link className='linkTo' to=\"/createAccount\">Create Account</Link>\n//             {/* <Link className='linkTo' to=\"/www/createAccount\">Create Account</Link> */}\n\n//         </Container>\n//     );\n//     }\n// }\n\n//    export default Login; \n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}