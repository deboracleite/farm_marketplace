{"ast":null,"code":"import _slicedToArray from\"/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{BrowserRouter,Routes,Route}from'react-router-dom';import Header from'./Header';import MenuBar from'./MenuBar';// import CustomerListOfProduts from \"./CustomerListOfProduts\";\nimport CreateAccount from'./CreateAccount';import MyAccount from'./MyAccount';import Login from'./Login';import AddProduct from\"./AddProduct\";import ProductsFeed from\"./ProductsFeed\";import{AppContext}from'./AppProvider';import MyProduct from\"./MyProduct\";import EditProduct from\"./EditProduct\";import MyCart from\"./MyCart\";import Receipt from\"./Receipt\";import MyOrders from\"./MyOrders\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Home=function Home(){// const url = 'http://localhost/backend/';\n// const path = 'http://localhost:3000';\nvar path='http://localhost:5000/www/';var url='http://localhost:5000/www/';var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user_id=_useState2[0],setUserId=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userName=_useState4[0],setUserName=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),hasSession=_useState6[0],setHasSession=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),cart=_useState8[0],setCart=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),cartPrice=_useState10[0],setCartPrice=_useState10[1];var _useState11=useState(\"All\"),_useState12=_slicedToArray(_useState11,2),categoryType=_useState12[0],setCategoryType=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),typeAccount=_useState14[0],setTypeAccount=_useState14[1];useEffect(function(){if(sessionStorage.getItem(\"id\")){setUserId(sessionStorage.getItem(\"id\"));setUserName(sessionStorage.getItem(\"name\"));setTypeAccount(sessionStorage.getItem(\"typeOfAccount\"));//  setAccountId(sessionStorage.getItem(\"accountID\"));\nsetHasSession(true);// getUser();\n}var newCart=JSON.parse(sessionStorage.getItem(\"myCart\"));if(!(newCart===null)){setCart(newCart);}var totalPrice=sessionStorage.getItem(\"totalPrice\");if(!(totalPrice===null)){setCartPrice(totalPrice);}else{sessionStorage.setItem(\"totalPrice\",cartPrice);}},[setCart,setCartPrice,cartPrice]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(AppContext.Provider,{value:{url:url,path:path,user_id:user_id,cart:cart,setCart:setCart,userName:userName,categoryType:categoryType,typeAccount:typeAccount,hasSession:hasSession,setCategoryType:setCategoryType,cartPrice:cartPrice,setCartPrice:setCartPrice},children:/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(MenuBar,{session:hasSession}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(ProductsFeed,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/createAccount\",element:/*#__PURE__*/_jsx(CreateAccount,{})}),/*#__PURE__*/_jsx(Route,{path:\"/myAccount\",element:/*#__PURE__*/_jsx(MyAccount,{})}),/*#__PURE__*/_jsx(Route,{path:\"/addProduct\",element:/*#__PURE__*/_jsx(AddProduct,{})}),/*#__PURE__*/_jsx(Route,{path:\"/productFeed\",element:/*#__PURE__*/_jsx(ProductsFeed,{})}),/*#__PURE__*/_jsx(Route,{path:\"/myProducts\",element:/*#__PURE__*/_jsx(MyProduct,{})}),/*#__PURE__*/_jsx(Route,{path:\"/editProduct\",element:/*#__PURE__*/_jsx(EditProduct,{})}),/*#__PURE__*/_jsx(Route,{path:\"/myCart\",element:/*#__PURE__*/_jsx(MyCart,{})}),/*#__PURE__*/_jsx(Route,{path:\"/receipt\",element:/*#__PURE__*/_jsx(Receipt,{})}),/*#__PURE__*/_jsx(Route,{path:\"/myOrders\",element:/*#__PURE__*/_jsx(MyOrders,{})})]})]})})});};export default Home;// class Home extends Component  {\n//     constructor(props) {\n//         super(props);\n//         this.state = {\n//             user_id: '',\n//             userName: '',\n//             hasSession: false\n//         }; \n//     }\n//     componentDidMount() {\n//         this.validateSession();\n//     }\n//     async validateSession () {\n//         var that = this;\n//         if(sessionStorage.getItem(\"id\")){\n//             await that.setState({user_id: sessionStorage.getItem(\"id\"),userName: sessionStorage.getItem(\"name\") ,hasSession: true});\n//             this.getUser();\n//         }\n//     };\n//     getUser () {\n//         var that = this;\n//         fetch('http://localhost/backend/getUserById.php', {\n//             method: 'GET',\n//             headers: {\n//             'Content-Type': 'application/json'\n//             },body: JSON.stringify({\n//                 user_id: that.state.user_id\n//             }) \n//         }).then( (response) => {\n//             return response.json()\n//         })\n//         .then( (data) => {\n//             console.log(data)\n//             that.setState({\n//                 userName: data.firstName,\n//                 hasSession: true\n//             })\n//         }).catch(() => this.setState({...that.state, message: 'Usuario invalidooo'}));\n//     }\n//     render() {\n//     return(\n//         <>\n//             <AppContext.Provider>\n//             <BrowserRouter>\n//                 <Header name = {this.state.userName} session = {this.state.hasSession}/>\n//                 <MenuBar session = {this.state.hasSession}/>\n//                 <Routes>\n//                 {/* <Route exact path=\"/\" element={<Home/>}/> */}\n//                 <Route exact path=\"/login\" element={<Login/>} />\n//                 <Route path=\"/createAccount\" element={<CreateAccount />} /> \n//                 <Route path=\"/myAccount\" element={<MyAccount />} /> \n//                 <Route path=\"/addProduct\" element={<AddProduct />} /> \n//                 <Route path=\"/productFeed\" element={<ProductsFeed />} /> \n//                 </Routes>\n//             </BrowserRouter>\n//             </AppContext.Provider>\n//             {/* <BrowserRouter>\n//                 <Routes> */}\n//                     {/* <MenuBar session = {this.state.hasSession}/> */}\n//                 {/* </Routes>\n//             </BrowserRouter> */}\n//             {/* <CustomerListOfProduts/> */}\n//         </>\n//     );\n//     }\n// }","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Routes","Route","Header","MenuBar","CreateAccount","MyAccount","Login","AddProduct","ProductsFeed","AppContext","MyProduct","EditProduct","MyCart","Receipt","MyOrders","Home","path","url","user_id","setUserId","userName","setUserName","hasSession","setHasSession","cart","setCart","cartPrice","setCartPrice","categoryType","setCategoryType","typeAccount","setTypeAccount","sessionStorage","getItem","newCart","JSON","parse","totalPrice","setItem"],"sources":["/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/src/Components/Home.js"],"sourcesContent":["import React, {useEffect, useState}from \"react\";\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport Header from './Header';\nimport MenuBar from './MenuBar';\n// import CustomerListOfProduts from \"./CustomerListOfProduts\";\nimport CreateAccount from './CreateAccount';\nimport MyAccount from './MyAccount'\nimport Login from './Login';\nimport AddProduct from \"./AddProduct\";\nimport ProductsFeed from \"./ProductsFeed\";\nimport { AppContext} from './AppProvider';\nimport MyProduct from \"./MyProduct\";\nimport EditProduct from \"./EditProduct\";\nimport MyCart from \"./MyCart\";\nimport Receipt from \"./Receipt\";\nimport MyOrders from \"./MyOrders\";\n\nconst Home = () => {\n\n    // const url = 'http://localhost/backend/';\n    // const path = 'http://localhost:3000';\n    const path = 'http://localhost:5000/www/';\n    const url = 'http://localhost:5000/www/';\n\n    const [user_id,setUserId] = useState('');\n    const [userName,setUserName] = useState('');\n    const [hasSession,setHasSession] = useState(false);\n    const [cart, setCart] = useState({});\n    const [cartPrice, setCartPrice] = useState(0);\n    const [categoryType,setCategoryType] = useState(\"All\");\n    const [typeAccount,setTypeAccount] = useState(\"\");\n\n    useEffect(() => {\n        if(sessionStorage.getItem(\"id\")){\n             setUserId(sessionStorage.getItem(\"id\"));\n             setUserName(sessionStorage.getItem(\"name\"));\n             setTypeAccount(sessionStorage.getItem(\"typeOfAccount\"));\n            //  setAccountId(sessionStorage.getItem(\"accountID\"));\n             setHasSession(true);\n            // getUser();\n        }\n\n        const newCart = JSON.parse(sessionStorage.getItem(\"myCart\"));\n        if(!(newCart === null)){\n            setCart(newCart);\n        }\n        const totalPrice = sessionStorage.getItem(\"totalPrice\");\n        if(!(totalPrice === null)){\n            setCartPrice(totalPrice);\n        }else{\n            sessionStorage.setItem(\"totalPrice\", cartPrice);\n        }\n\n    }, [setCart,setCartPrice ,cartPrice]);\n\n    return (\n        <>\n           <AppContext.Provider value={{url,path, user_id,cart,setCart,userName, categoryType, typeAccount, hasSession,setCategoryType , cartPrice, setCartPrice}}>\n             <BrowserRouter>\n                 {/* <Header name = {userName} session = {hasSession}/> */}\n                 <Header/> \n                 <MenuBar session = {hasSession}/>\n                 {/* <ProductsFeed /> */}\n                 <Routes>\n                 {/* <Route exact path=\"/\" element={<Home />}/> */}\n                 <Route exact path=\"/\" element={<ProductsFeed />}/>\n                 <Route path=\"/login\" element={<Login/>} />\n                 <Route path=\"/createAccount\" element={<CreateAccount />} /> \n                 <Route path=\"/myAccount\" element={<MyAccount />} /> \n                 <Route path=\"/addProduct\" element={<AddProduct />} /> \n                 <Route path=\"/productFeed\" element={<ProductsFeed />} /> \n                 <Route path=\"/myProducts\" element={<MyProduct />} /> \n                 <Route path=\"/editProduct\" element={<EditProduct />} /> \n                 <Route path=\"/myCart\" element={<MyCart />} /> \n                 <Route path=\"/receipt\" element={<Receipt />} /> \n                 <Route path=\"/myOrders\" element={<MyOrders />} /> \n                 </Routes>\n             </BrowserRouter>\n             </AppContext.Provider>\n         </>\n    )\n}\n\n\nexport default Home;\n\n// class Home extends Component  {\n\n//     constructor(props) {\n//         super(props);\n//         this.state = {\n//             user_id: '',\n//             userName: '',\n//             hasSession: false\n//         }; \n//     }\n//     componentDidMount() {\n//         this.validateSession();\n//     }\n//     async validateSession () {\n//         var that = this;\n//         if(sessionStorage.getItem(\"id\")){\n//             await that.setState({user_id: sessionStorage.getItem(\"id\"),userName: sessionStorage.getItem(\"name\") ,hasSession: true});\n            \n//             this.getUser();\n//         }\n\n//     };\n\n//     getUser () {\n//         var that = this;\n//         fetch('http://localhost/backend/getUserById.php', {\n//             method: 'GET',\n//             headers: {\n//             'Content-Type': 'application/json'\n//             },body: JSON.stringify({\n//                 user_id: that.state.user_id\n//             }) \n//         }).then( (response) => {\n//             return response.json()\n//         })\n//         .then( (data) => {\n//             console.log(data)\n//             that.setState({\n//                 userName: data.firstName,\n//                 hasSession: true\n//             })\n            \n           \n//         }).catch(() => this.setState({...that.state, message: 'Usuario invalidooo'}));\n//     }\n\n    \n\n//     render() {\n        \n//     return(\n//         <>\n//             <AppContext.Provider>\n//             <BrowserRouter>\n//                 <Header name = {this.state.userName} session = {this.state.hasSession}/>\n//                 <MenuBar session = {this.state.hasSession}/>\n//                 <Routes>\n//                 {/* <Route exact path=\"/\" element={<Home/>}/> */}\n//                 <Route exact path=\"/login\" element={<Login/>} />\n//                 <Route path=\"/createAccount\" element={<CreateAccount />} /> \n//                 <Route path=\"/myAccount\" element={<MyAccount />} /> \n//                 <Route path=\"/addProduct\" element={<AddProduct />} /> \n//                 <Route path=\"/productFeed\" element={<ProductsFeed />} /> \n//                 </Routes>\n//             </BrowserRouter>\n//             </AppContext.Provider>\n//             {/* <BrowserRouter>\n//                 <Routes> */}\n//                     {/* <MenuBar session = {this.state.hasSession}/> */}\n//                 {/* </Routes>\n//             </BrowserRouter> */}\n//             {/* <CustomerListOfProduts/> */}\n//         </>\n        \n//     );\n//     }\n// }\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}