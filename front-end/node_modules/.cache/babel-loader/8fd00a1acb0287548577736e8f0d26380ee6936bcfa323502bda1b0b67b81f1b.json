{"ast":null,"code":"import _slicedToArray from\"/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from'react';import{Container}from'./MyOrdersStyle';import{useNavigate}from'react-router-dom';import{AppContext}from'./AppProvider';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyOrders=function MyOrders(){var _useContext=useContext(AppContext),url=_useContext.url;var cont=0;var UserId=sessionStorage.getItem(\"id\");var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orderList=_useState2[0],setOrderList=_useState2[1];useEffect(function(){if(!sessionStorage.getItem(\"id\")){navigate('/');}fetch(url+'getListOfOrdersById.php',{// fetch('http://localhost/backend/getListOfOrdersById.php', {\nmethod:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({UserId:UserId})}).then(function(response){return response.json();}).then(function(data){setOrderList(data);});},[UserId,url,navigate]);var handleDetail=function handleDetail(order){navigate('/receipt',{state:{orderId:order.OrderId}});// <Navigate to=\"/editProduct\" state={product}/>;\n};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Orders\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Sub-total\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tax\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total price\"}),/*#__PURE__*/_jsx(\"th\",{})]}),orderList.map(function(order,key){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:cont++}),/*#__PURE__*/_jsx(\"td\",{children:order.OrderDate}),/*#__PURE__*/_jsx(\"td\",{children:order.SubTotal}),/*#__PURE__*/_jsx(\"td\",{children:order.Tax}),/*#__PURE__*/_jsx(\"td\",{children:order.TotalPrice}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDetail(order);},id:\"btnEdit\",children:\"Detail\"})})]},order.OrderId);})]})]});};export default MyOrders;","map":{"version":3,"names":["React","useState","useEffect","useContext","Container","useNavigate","AppContext","MyOrders","url","cont","UserId","sessionStorage","getItem","navigate","orderList","setOrderList","fetch","method","headers","body","JSON","stringify","then","response","json","data","handleDetail","order","state","orderId","OrderId","map","key","OrderDate","SubTotal","Tax","TotalPrice"],"sources":["/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/src/Components/MyOrders.js"],"sourcesContent":["import React, {useState, useEffect, useContext} from 'react';\nimport { Container } from './MyOrdersStyle';\nimport { useNavigate } from 'react-router-dom';\nimport { AppContext } from './AppProvider';\n\nconst MyOrders = () =>   {\n\n    const { url} = useContext(AppContext);\n\n    let cont = 0;\n\n    const UserId  = sessionStorage.getItem(\"id\");\n\n    const navigate = useNavigate();\n    \n\n    const [orderList, setOrderList] = useState([]);\n\n    useEffect(()=>{\n        if(!sessionStorage.getItem(\"id\")){\n            navigate('/');\n        }\n        fetch(url + 'getListOfOrdersById.php', {\n        // fetch('http://localhost/backend/getListOfOrdersById.php', {\n            method: 'POST',\n            headers: {\n            'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                UserId: UserId\n            }) \n        })\n        .then( (response) => {\n            return response.json()\n        }).then( (data) => {\n            setOrderList(data);\n        });\n        \n    },[UserId, url, navigate]);\n\n\n    const handleDetail  =  (order) =>{\n        navigate('/receipt',{state:{orderId: order.OrderId}});\n        // <Navigate to=\"/editProduct\" state={product}/>;\n    } \n\n    return (\n        \n        <Container>\n            <h1>My Orders</h1>\n            <table>\n                <tr>\n                    <th></th>\n                    <th>Date</th>\n                    <th>Sub-total</th>\n                    <th>Tax</th>\n                    <th>Total price</th>\n                    <th></th>\n                </tr>\n                {orderList.map((order, key) => {\n                    return (\n                        <tr key={order.OrderId}>\n                        <td>{cont++}</td>\n                        <td>{order.OrderDate}</td>\n                        <td>{order.SubTotal}</td>\n                        <td>{order.Tax}</td>\n                        <td>{order.TotalPrice}</td>\n                        <td><button onClick={() => handleDetail(order)}  id='btnEdit'>Detail</button></td>\n                        </tr>\n                    )\n                })}\n            </table>\n        </Container>\n        \n    );\n}\n\n   export default MyOrders; \n\n\n"],"mappings":"6LAAA,MAAOA,MAAK,EAAGC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAO,OAAO,CAC5D,OAASC,SAAS,KAAQ,iBAAiB,CAC3C,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,UAAU,KAAQ,eAAe,CAAC,wFAE3C,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAW,CAErB,gBAAeJ,UAAU,CAACG,UAAU,CAAC,CAA7BE,GAAG,aAAHA,GAAG,CAEX,GAAIC,KAAI,CAAG,CAAC,CAEZ,GAAMC,OAAM,CAAIC,cAAc,CAACC,OAAO,CAAC,IAAI,CAAC,CAE5C,GAAMC,SAAQ,CAAGR,WAAW,EAAE,CAG9B,cAAkCJ,QAAQ,CAAC,EAAE,CAAC,wCAAvCa,SAAS,eAAEC,YAAY,eAE9Bb,SAAS,CAAC,UAAI,CACV,GAAG,CAACS,cAAc,CAACC,OAAO,CAAC,IAAI,CAAC,CAAC,CAC7BC,QAAQ,CAAC,GAAG,CAAC,CACjB,CACAG,KAAK,CAACR,GAAG,CAAG,yBAAyB,CAAE,CACvC;AACIS,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACT,cAAc,CAAE,kBAChB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBX,MAAM,CAAEA,MACZ,CAAC,CACL,CAAC,CAAC,CACDY,IAAI,CAAE,SAACC,QAAQ,CAAK,CACjB,MAAOA,SAAQ,CAACC,IAAI,EAAE,CAC1B,CAAC,CAAC,CAACF,IAAI,CAAE,SAACG,IAAI,CAAK,CACfV,YAAY,CAACU,IAAI,CAAC,CACtB,CAAC,CAAC,CAEN,CAAC,CAAC,CAACf,MAAM,CAAEF,GAAG,CAAEK,QAAQ,CAAC,CAAC,CAG1B,GAAMa,aAAY,CAAK,QAAjBA,aAAY,CAAMC,KAAK,CAAI,CAC7Bd,QAAQ,CAAC,UAAU,CAAC,CAACe,KAAK,CAAC,CAACC,OAAO,CAAEF,KAAK,CAACG,OAAO,CAAC,CAAC,CAAC,CACrD;AACJ,CAAC,CAED,mBAEI,MAAC,SAAS,yBACN,oBAAI,WAAS,EAAK,cAClB,sCACI,mCACI,aAAS,cACT,oBAAI,MAAI,EAAK,cACb,oBAAI,WAAS,EAAK,cAClB,oBAAI,KAAG,EAAK,cACZ,oBAAI,aAAW,EAAK,cACpB,aAAS,GACR,CACJhB,SAAS,CAACiB,GAAG,CAAC,SAACJ,KAAK,CAAEK,GAAG,CAAK,CAC3B,mBACI,mCACA,oBAAKvB,IAAI,EAAE,EAAM,cACjB,oBAAKkB,KAAK,CAACM,SAAS,EAAM,cAC1B,oBAAKN,KAAK,CAACO,QAAQ,EAAM,cACzB,oBAAKP,KAAK,CAACQ,GAAG,EAAM,cACpB,oBAAKR,KAAK,CAACS,UAAU,EAAM,cAC3B,iCAAI,eAAQ,OAAO,CAAE,yBAAMV,aAAY,CAACC,KAAK,CAAC,EAAC,CAAE,EAAE,CAAC,SAAS,UAAC,QAAM,EAAS,EAAK,GANzEA,KAAK,CAACG,OAAO,CAOjB,CAEb,CAAC,CAAC,GACE,GACA,CAGpB,CAAC,CAEE,cAAevB,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}