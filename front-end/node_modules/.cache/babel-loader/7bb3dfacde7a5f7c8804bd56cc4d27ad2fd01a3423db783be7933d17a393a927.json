{"ast":null,"code":"import _slicedToArray from\"/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from'react';import{Container}from'./CartItemStyle';import{AppContext}from'./AppProvider';// import '../Styles/productCard.css';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CartItem(props){var _useContext=useContext(AppContext),cart=_useContext.cart,setCart=_useContext.setCart,cartPrice=_useContext.cartPrice,setCartPrice=_useContext.setCartPrice;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var handleAdd=function handleAdd(product,key){setQty(qty+1);cart[product.ProductID].qtyItem+=1;cart[product.ProductID].totalPriceItem=cart[product.ProductID].totalPriceItem+cart[product.ProductID].ProductPrice;var totalPrice=sessionStorage.getItem(\"totalPrice\");totalPrice=parseFloat(totalPrice)+product.ProductPrice;setCartPrice(totalPrice);sessionStorage.setItem(\"totalPrice\",totalPrice);};var handleRemove=function handleRemove(product,key){if(cart[product.ProductID].qtyItem>1){cart[product.ProductID].qtyItem-=1;cart[product.ProductID].totalPriceItem=cart[product.ProductID].totalPriceItem-cart[product.ProductID].ProductPrice;setCart(cart);}else{delete cart[product.ProductID];setCart(cart);}setQty(qty-1);var totalPrice=sessionStorage.getItem(\"totalPrice\");totalPrice=parseFloat(totalPrice)-product.ProductPrice;setCartPrice(totalPrice);sessionStorage.setItem(\"totalPrice\",totalPrice);};return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"blockItem\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"blockItemLeft\",children:[/*#__PURE__*/_jsx(\"img\",{src:props.productItem.ProductImageURL,className:\"ImgItem\",alt:\"ImgItem\"}),/*#__PURE__*/_jsx(\"p\",{id:\"ItemName\",children:props.productItem.ProductName})]}),cartPrice>0&&!!cart[props.productItem.ProductID]&&/*#__PURE__*/_jsxs(\"div\",{id:\"groupButtonCart\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"btnRemove\",onClick:function onClick(){return handleRemove(props.productItem,props.key);},children:\"-\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Qty: \",cart[props.productItem.ProductID].qtyItem,\" \"]}),/*#__PURE__*/_jsx(\"button\",{id:\"btnAdd\",onClick:function onClick(){return handleAdd(props.productItem,props.key);},children:\"+\"})]}),/*#__PURE__*/_jsxs(\"p\",{id:\"ItemPrice\",children:[\"$ \",cart[props.productItem.ProductID].totalPriceItem]})]})});}export default CartItem;","map":{"version":3,"names":["React","useContext","useState","Container","AppContext","CartItem","props","cart","setCart","cartPrice","setCartPrice","qty","setQty","handleAdd","product","key","ProductID","qtyItem","totalPriceItem","ProductPrice","totalPrice","sessionStorage","getItem","parseFloat","setItem","handleRemove","productItem","ProductImageURL","ProductName"],"sources":["/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/src/Components/CartItem.js"],"sourcesContent":["import React,{useContext, useState} from 'react';\nimport {Container} from './CartItemStyle';\nimport { AppContext } from './AppProvider'\n// import '../Styles/productCard.css';\n\n\n\nfunction CartItem (props) {\n    const { cart, setCart , cartPrice, setCartPrice} = useContext(AppContext);\n    const [qty, setQty] = useState(0);\n\n    const handleAdd  =  (product, key) =>{\n\n            setQty(qty+1);\n            cart[product.ProductID].qtyItem += 1\n            cart[product.ProductID].totalPriceItem = cart[product.ProductID].totalPriceItem + cart[product.ProductID].ProductPrice;\n            let totalPrice = sessionStorage.getItem(\"totalPrice\");\n            totalPrice = parseFloat(totalPrice) + product.ProductPrice\n            setCartPrice(totalPrice);\n            sessionStorage.setItem(\"totalPrice\", totalPrice);\n    }\n\n    const handleRemove  =  (product, key) =>{\n\n        if(cart[product.ProductID].qtyItem > 1) {\n            cart[product.ProductID].qtyItem -= 1\n            cart[product.ProductID].totalPriceItem =  cart[product.ProductID].totalPriceItem - cart[product.ProductID].ProductPrice;\n            setCart(cart);\n        }else{\n            delete cart[product.ProductID];\n            setCart(cart);\n        }\n        setQty(qty-1);\n        let totalPrice = sessionStorage.getItem(\"totalPrice\");\n        totalPrice = parseFloat(totalPrice) - product.ProductPrice\n        setCartPrice(totalPrice);\n        sessionStorage.setItem(\"totalPrice\", totalPrice);\n    }\n\n\n    return(\n        \n        <Container>\n            <div className=\"blockItem\">\n                <div id='blockItemLeft'>\n                    <img src={props.productItem.ProductImageURL} className=\"ImgItem\" alt=\"ImgItem\"/>\n                    <p id=\"ItemName\">{props.productItem.ProductName}</p>\n                </div>\n                {cartPrice > 0 && !!cart[props.productItem.ProductID] &&\n                    <div id='groupButtonCart'>\n                        <button id=\"btnRemove\" onClick={() => handleRemove(props.productItem, props.key)} >-</button>\n                        <p>Qty: {cart[props.productItem.ProductID].qtyItem} </p>\n                        <button id=\"btnAdd\" onClick={() => handleAdd(props.productItem, props.key)} >+</button>\n                    </div> \n                }\n                <p id=\"ItemPrice\">$ {cart[props.productItem.ProductID].totalPriceItem}</p>\n            </div>\n        </Container>\n    );\n}\n\nexport default CartItem;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}