{"ast":null,"code":"\"use strict\";\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nrequire(\"./stylesheets/react-ui-dropdown.css\");\nvar _react = require(\"react\");\nvar _react2 = _interopRequireDefault(_react);\nvar _Items = require(\"./Items\");\nvar _Items2 = _interopRequireDefault(_Items);\nvar _Item = require(\"./Item\");\nvar _Item2 = _interopRequireDefault(_Item);\nvar _Label = require(\"./Label\");\nvar _Label2 = _interopRequireDefault(_Label);\nvar _SearchInput = require(\"./SearchInput\");\nvar _SearchInput2 = _interopRequireDefault(_SearchInput);\nvar _SelectedItem = require(\"./SelectedItem\");\nvar _SelectedItem2 = _interopRequireDefault(_SelectedItem);\nvar _itemChecker = require(\"./../item-checker\");\nvar _itemChecker2 = _interopRequireDefault(_itemChecker);\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\n/**\r\n * Variable for store count of components in the scope.\r\n *\r\n * @type {Number}\r\n */\nvar idCounter = 0;\n\n/**\r\n * Return unique id for component. Useful for id in HTML.\r\n *\r\n * @param {String} prefix\r\n * @returns {String}\r\n */\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return prefix + id;\n}\n\n/**\r\n * Returns a function, that, as long as it continues to be invoked, will not be triggered.\r\n * The function will be called after it stops being called for N milliseconds.\r\n *\r\n * Code taken from article {@link https://davidwalsh.name/javascript-debounce-function|JavaScript Debounce Function}.\r\n *\r\n * @param {Function} func - Function which will need to call\r\n * @param {Number} wait - Milliseconds after func will be called\r\n * @returns {Function}\r\n */\nfunction debounce(func, wait) {\n  var timeout = undefined;\n  return function () {\n    var context = this,\n      args = arguments;\n    var later = function later() {\n      timeout = null;\n      func.apply(context, args);\n    };\n    var callNow = !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\nvar ReactUIDropdown = function (_Component) {\n  _inherits(ReactUIDropdown, _Component);\n  function ReactUIDropdown(props) {\n    _classCallCheck(this, ReactUIDropdown);\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ReactUIDropdown).call(this, props));\n    var items = _this.transformArrayToItems(props.initialItems, props.maxDisplayedItems);\n    _this.state = {\n      dropdownId: uniqueId(\"dropdown-\") + \"-\",\n      items: items,\n      focusedItem: items.keys.displayed[0] || null,\n      searchValue: \"\"\n    };\n    _this.sendRequest = debounce(_this.sendRequest, 500);\n    return _this;\n  }\n  _createClass(ReactUIDropdown, [{\n    key: \"componentWillUpdate\",\n    value: function componentWillUpdate(nextProps, nextState) {\n      if (this.state.focusedItem != nextState.focusedItem) {\n        var item = this.refs[\"item-\" + this.state.focusedItem];\n        if (item) item.setFocused(false);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevState.focusedItem != this.state.focusedItem) {\n        var item = this.refs[\"item-\" + this.state.focusedItem];\n        if (item) item.setFocused(true);\n      }\n    }\n\n    /**\r\n     * Return keys of displayed items from state, which not selected.\r\n     *\r\n     * @returns {Array}\r\n     */\n  }, {\n    key: \"getNotSelectedItems\",\n    value: function getNotSelectedItems() {\n      var _this2 = this;\n      return this.state.items.keys.displayed.filter(function (itemKey) {\n        return !~_this2.state.items.keys.selected.indexOf(itemKey);\n      });\n    }\n\n    /**\r\n     * Has component a source or not.\r\n     *\r\n     * @returns {boolean}\r\n     */\n  }, {\n    key: \"hasRemoteSearch\",\n    value: function hasRemoteSearch() {\n      return !!(this.props.remoteSearch && this.props.remoteSearch.url);\n    }\n  }, {\n    key: \"handleSelectorClick\",\n    value: function handleSelectorClick() {\n      this.refs.searchInput.refs.input.focus();\n    }\n  }, {\n    key: \"handleSearchInputChange\",\n    value: function handleSearchInputChange(e) {\n      var _this3 = this;\n      var searchValue = e.target.value;\n      this.setState({\n        searchValue: searchValue\n      });\n      var updateState = function updateState(displayedItemsKeys) {\n        var items = _this3.state.items;\n        items.keys.displayed = displayedItemsKeys;\n        _this3.setState({\n          items: items,\n          focusedItem: items.keys.displayed.filter(function (itemKey) {\n            return !~items.keys.selected.indexOf(itemKey);\n          })[0] || null\n        });\n      };\n      if (!searchValue.length) {\n        updateState(this.state.items.keys.started);\n        return;\n      }\n      this.goSearch(searchValue, function (foundItemsKeys) {\n        updateState(foundItemsKeys.slice(0, _this3.props.maxDisplayedItems));\n      });\n    }\n  }, {\n    key: \"handleSearchInputKeyDown\",\n    value: function handleSearchInputKeyDown(e) {\n      var _this4 = this;\n      var focusedItem = this.state.focusedItem;\n      var displayedItems = this.getNotSelectedItems();\n      var focusedItemIndex = displayedItems.indexOf(focusedItem);\n      var updateState = function updateState(focusedItemIndex) {\n        _this4.setState({\n          focusedItem: displayedItems[focusedItemIndex] || null\n        });\n      };\n      switch (e.key) {\n        case \"ArrowDown\":\n          updateState(focusedItemIndex < displayedItems.length - 1 ? focusedItemIndex + 1 : 0);\n          break;\n        case \"ArrowUp\":\n          updateState(focusedItemIndex == 0 ? displayedItems.length - 1 : focusedItemIndex - 1);\n          break;\n        case \"Enter\":\n          this.addItemToSelected(focusedItem);\n          updateState(focusedItemIndex < displayedItems.length - 1 ? focusedItemIndex + 1 : focusedItemIndex - 1);\n          break;\n      }\n    }\n  }, {\n    key: \"handleSearchInputFocus\",\n    value: function handleSearchInputFocus() {\n      this.refs.items.setHidden(false);\n      this.setState({\n        focusedItem: this.getNotSelectedItems()[0] || null\n      });\n      var item = this.refs[\"item-\" + this.state.focusedItem];\n      if (item) item.setFocused(true);\n    }\n  }, {\n    key: \"handleSearchInputBlur\",\n    value: function handleSearchInputBlur() {\n      this.refs.items.setHidden(true);\n      var item = this.refs[\"item-\" + this.state.focusedItem];\n      if (item) item.setFocused(false);\n    }\n  }, {\n    key: \"handleSelectedItemClick\",\n    value: function handleSelectedItemClick(itemKey) {\n      this.removeItemFromSelected(itemKey);\n    }\n  }, {\n    key: \"handleItemClick\",\n    value: function handleItemClick(itemKey) {\n      this.addItemToSelected(itemKey);\n    }\n  }, {\n    key: \"handleItemHover\",\n    value: function handleItemHover(itemKey) {\n      if (this.state.focusedItem == itemKey) return;\n      this.setState({\n        focusedItem: itemKey\n      });\n    }\n  }, {\n    key: \"dropdownChange\",\n    value: function dropdownChange() {\n      var _this5 = this;\n      if (!this.props.onChange) return;\n      this.props.onChange(this.state.items.keys.selected.reduce(function (selectedItems, itemKey) {\n        selectedItems.push(_this5.state.items.collection[itemKey]);\n        return selectedItems;\n      }, []));\n    }\n\n    /**\r\n     * Transform array of data for suitable collection of items.\r\n     *\r\n     * @param {Array} data\r\n     * @returns {{collection: {}, keys: {all: Array, started: Array, displayed: Array, selected: Array}}}\r\n     */\n  }, {\n    key: \"transformArrayToItems\",\n    value: function transformArrayToItems(data, maxDisplayedItems) {\n      maxDisplayedItems = maxDisplayedItems || this.props.maxDisplayedItems;\n      var items = {\n        collection: {},\n        keys: {\n          all: [],\n          started: [],\n          displayed: [],\n          selected: []\n        }\n      };\n      if (data && data.length) {\n        items.keys.all = data.map(function (item) {\n          return item.id;\n        });\n        var startedItems = items.keys.all.slice(0, maxDisplayedItems);\n        items.keys.started = startedItems;\n        items.keys.displayed = startedItems;\n        items.collection = data.reduce(function (obj, item) {\n          obj[item.id] = item;\n          return obj;\n        }, {});\n      }\n      return items;\n    }\n\n    /**\r\n     * Function create an ajax GET request to url and give response in callback.\r\n     *\r\n     * @param {string} url\r\n     * @param {Function} callback\r\n     */\n  }, {\n    key: \"sendRequest\",\n    value: function sendRequest(url, callback) {\n      var xhr = undefined;\n      try {\n        xhr = new ActiveXObject(\"Msxml2.XMLHTTP\");\n      } catch (e) {\n        try {\n          xhr = new ActiveXObject(\"Microsoft.XMLHTTP\");\n        } catch (E) {\n          xhr = false;\n        }\n      }\n      if (!xhr && typeof XMLHttpRequest != \"undefined\") {\n        xhr = new XMLHttpRequest();\n      }\n      xhr.open(\"GET\", url, true);\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState == 4) {\n          if (xhr.status == 200) {\n            callback(xhr);\n          }\n        }\n      };\n      xhr.send();\n    }\n\n    /**\r\n     * Search item, which contain string like q. Search in local and on server.\r\n     *\r\n     * @param {string} q\r\n     * @param {Function} callback\r\n     */\n  }, {\n    key: \"goSearch\",\n    value: function goSearch(q, callback) {\n      var _this6 = this;\n      if (!q.length) {\n        return;\n      }\n      var foundItemsKeys = [];\n      var fields = [\"title\"];\n      this.state.items.keys.all.forEach(function (itemKey) {\n        if (_itemChecker2.default.check(q, _this6.state.items.collection[itemKey], fields)) foundItemsKeys.push(itemKey);\n      });\n      if (!this.hasRemoteSearch()) {\n        callback(foundItemsKeys);\n        return;\n      }\n      this.sendRequest(this.props.remoteSearch.url + \"?q=\" + q + \"&search_in=\" + this.props.remoteSearch.fields, function (xhr) {\n        var response = JSON.parse(xhr.responseText);\n        var serverFoundItemsKeys = response.items.map(function (item) {\n          return item.id;\n        });\n        if (serverFoundItemsKeys.length) {\n          foundItemsKeys = foundItemsKeys.concat(serverFoundItemsKeys.filter(function (itemKey) {\n            return !~foundItemsKeys.indexOf(itemKey);\n          }));\n        }\n        callback(foundItemsKeys);\n      });\n    }\n\n    /**\r\n     * Add itemKey to array of selected items in state.\r\n     * If component is multiple, itemKey will be added to array, else will create array contained only one selected item.\r\n     *\r\n     * @param {number} itemKey\r\n     */\n  }, {\n    key: \"addItemToSelected\",\n    value: function addItemToSelected(itemKey) {\n      var items = this.state.items;\n      items.keys.selected = this.props.multiple ? this.state.items.keys.selected.concat(itemKey) : [itemKey];\n      this.setState({\n        items: items\n      });\n      this.dropdownChange();\n    }\n\n    /**\r\n     * Remove itemKey from array of selected items in state.\r\n     *\r\n     * @param {number} itemKey\r\n     */\n  }, {\n    key: \"removeItemFromSelected\",\n    value: function removeItemFromSelected(itemKey) {\n      var s = this.state.items.keys.selected;\n      s.splice(s.indexOf(itemKey), 1);\n      var items = this.state.items;\n      items.keys.selected = s;\n      this.setState({\n        items: items,\n        focusedItem: this.state.items.keys.displayed.filter(function (itemKey) {\n          return !~s.indexOf(itemKey);\n        })[0]\n      });\n      this.dropdownChange();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n      var _state = this.state;\n      var dropdownId = _state.dropdownId;\n      var items = _state.items;\n      return _react2.default.createElement(\"div\", {\n        className: \"dropdown\"\n      }, _react2.default.createElement(_Label2.default, {\n        idPrefix: dropdownId\n      }, this.props.label), _react2.default.createElement(\"div\", {\n        className: \"dropdown-selector\",\n        onClick: this.handleSelectorClick.bind(this)\n      }, items.keys.selected.map(function (itemKey) {\n        return _react2.default.createElement(_SelectedItem2.default, _extends({\n          key: itemKey,\n          idPrefix: dropdownId\n        }, items.collection[itemKey], {\n          onClick: _this7.handleSelectedItemClick.bind(_this7, itemKey)\n        }));\n      }), _react2.default.createElement(_SearchInput2.default, {\n        ref: \"searchInput\",\n        idPrefix: dropdownId,\n        value: this.state.searchValue,\n        placeholder: this.props.placeholder,\n        onChange: this.handleSearchInputChange.bind(this),\n        onFocus: this.handleSearchInputFocus.bind(this),\n        onBlur: this.handleSearchInputBlur.bind(this),\n        onKeyDown: this.handleSearchInputKeyDown.bind(this)\n      })), _react2.default.createElement(_Items2.default, {\n        ref: \"items\",\n        idPrefix: dropdownId,\n        focusedItem: this.state.focusedItem\n      }, items.keys.displayed.map(function (itemKey) {\n        return _react2.default.createElement(_Item2.default, _extends({\n          ref: \"item-\" + itemKey,\n          key: itemKey,\n          idPrefix: dropdownId\n        }, items.collection[itemKey], {\n          selected: !!~items.keys.selected.indexOf(itemKey),\n          showImages: _this7.props.showImages,\n          onClick: _this7.handleItemClick.bind(_this7, itemKey),\n          onHover: _this7.handleItemHover.bind(_this7, itemKey)\n        }));\n      })));\n    }\n  }]);\n  return ReactUIDropdown;\n}(_react.Component);\nexports.default = ReactUIDropdown;\nReactUIDropdown.propTypes = {\n  initialItems: _react.PropTypes.array.isRequired,\n  remoteSearch: _react.PropTypes.shape({\n    url: _react2.default.PropTypes.string,\n    fields: _react2.default.PropTypes.oneOfType([_react2.default.PropTypes.array, _react2.default.PropTypes.string])\n  }),\n  maxDisplayedItems: _react.PropTypes.number,\n  label: _react.PropTypes.string.isRequired,\n  placeholder: _react.PropTypes.string,\n  showImages: _react.PropTypes.bool,\n  multiple: _react.PropTypes.bool,\n  onChange: _react.PropTypes.func\n};\nReactUIDropdown.defaultProps = {\n  maxDisplayedItems: 10,\n  showImages: true,\n  multiple: true\n};","map":{"version":3,"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","exports","value","require","_react","_react2","_interopRequireDefault","_Items","_Items2","_Item","_Item2","_Label","_Label2","_SearchInput","_SearchInput2","_SelectedItem","_SelectedItem2","_itemChecker","_itemChecker2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","idCounter","uniqueId","prefix","id","debounce","func","wait","timeout","undefined","context","args","later","apply","callNow","clearTimeout","setTimeout","ReactUIDropdown","_Component","_this","getPrototypeOf","items","transformArrayToItems","initialItems","maxDisplayedItems","state","dropdownId","focusedItem","keys","displayed","searchValue","sendRequest","componentWillUpdate","nextProps","nextState","item","refs","setFocused","componentDidUpdate","prevProps","prevState","getNotSelectedItems","_this2","filter","itemKey","selected","indexOf","hasRemoteSearch","remoteSearch","url","handleSelectorClick","searchInput","input","focus","handleSearchInputChange","e","_this3","setState","updateState","displayedItemsKeys","started","goSearch","foundItemsKeys","slice","handleSearchInputKeyDown","_this4","displayedItems","focusedItemIndex","addItemToSelected","handleSearchInputFocus","setHidden","handleSearchInputBlur","handleSelectedItemClick","removeItemFromSelected","handleItemClick","handleItemHover","dropdownChange","_this5","onChange","reduce","selectedItems","push","collection","data","all","map","startedItems","callback","xhr","ActiveXObject","E","XMLHttpRequest","open","onreadystatechange","readyState","status","send","q","_this6","fields","forEach","check","response","JSON","parse","responseText","serverFoundItemsKeys","concat","multiple","s","splice","render","_this7","_state","createElement","className","idPrefix","label","onClick","bind","ref","placeholder","onFocus","onBlur","onKeyDown","showImages","onHover","Component","propTypes","PropTypes","array","isRequired","shape","string","oneOfType","number","bool","defaultProps"],"sources":["/Users/deboraleite/Documents/Conestoga/2_Term/Web Technologies/Final project/farm_marketplace/front-end/node_modules/react-ui-dropdown/lib/components/ReactUIDropdown.js"],"sourcesContent":["\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nrequire(\"./stylesheets/react-ui-dropdown.css\");\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Items = require(\"./Items\");\n\nvar _Items2 = _interopRequireDefault(_Items);\n\nvar _Item = require(\"./Item\");\n\nvar _Item2 = _interopRequireDefault(_Item);\n\nvar _Label = require(\"./Label\");\n\nvar _Label2 = _interopRequireDefault(_Label);\n\nvar _SearchInput = require(\"./SearchInput\");\n\nvar _SearchInput2 = _interopRequireDefault(_SearchInput);\n\nvar _SelectedItem = require(\"./SelectedItem\");\n\nvar _SelectedItem2 = _interopRequireDefault(_SelectedItem);\n\nvar _itemChecker = require(\"./../item-checker\");\n\nvar _itemChecker2 = _interopRequireDefault(_itemChecker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\r\n * Variable for store count of components in the scope.\r\n *\r\n * @type {Number}\r\n */\nvar idCounter = 0;\n\n/**\r\n * Return unique id for component. Useful for id in HTML.\r\n *\r\n * @param {String} prefix\r\n * @returns {String}\r\n */\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n\n  return prefix + id;\n}\n\n/**\r\n * Returns a function, that, as long as it continues to be invoked, will not be triggered.\r\n * The function will be called after it stops being called for N milliseconds.\r\n *\r\n * Code taken from article {@link https://davidwalsh.name/javascript-debounce-function|JavaScript Debounce Function}.\r\n *\r\n * @param {Function} func - Function which will need to call\r\n * @param {Number} wait - Milliseconds after func will be called\r\n * @returns {Function}\r\n */\nfunction debounce(func, wait) {\n  var timeout = undefined;\n  return function () {\n    var context = this,\n        args = arguments;\n    var later = function later() {\n      timeout = null;\n      func.apply(context, args);\n    };\n    var callNow = !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\nvar ReactUIDropdown = (function (_Component) {\n  _inherits(ReactUIDropdown, _Component);\n\n  function ReactUIDropdown(props) {\n    _classCallCheck(this, ReactUIDropdown);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ReactUIDropdown).call(this, props));\n\n    var items = _this.transformArrayToItems(props.initialItems, props.maxDisplayedItems);\n\n    _this.state = {\n      dropdownId: uniqueId(\"dropdown-\") + \"-\",\n      items: items,\n      focusedItem: items.keys.displayed[0] || null,\n      searchValue: \"\"\n    };\n\n    _this.sendRequest = debounce(_this.sendRequest, 500);\n    return _this;\n  }\n\n  _createClass(ReactUIDropdown, [{\n    key: \"componentWillUpdate\",\n    value: function componentWillUpdate(nextProps, nextState) {\n      if (this.state.focusedItem != nextState.focusedItem) {\n        var item = this.refs[\"item-\" + this.state.focusedItem];\n        if (item) item.setFocused(false);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevState.focusedItem != this.state.focusedItem) {\n        var item = this.refs[\"item-\" + this.state.focusedItem];\n        if (item) item.setFocused(true);\n      }\n    }\n\n    /**\r\n     * Return keys of displayed items from state, which not selected.\r\n     *\r\n     * @returns {Array}\r\n     */\n\n  }, {\n    key: \"getNotSelectedItems\",\n    value: function getNotSelectedItems() {\n      var _this2 = this;\n\n      return this.state.items.keys.displayed.filter(function (itemKey) {\n        return ! ~_this2.state.items.keys.selected.indexOf(itemKey);\n      });\n    }\n\n    /**\r\n     * Has component a source or not.\r\n     *\r\n     * @returns {boolean}\r\n     */\n\n  }, {\n    key: \"hasRemoteSearch\",\n    value: function hasRemoteSearch() {\n      return !!(this.props.remoteSearch && this.props.remoteSearch.url);\n    }\n  }, {\n    key: \"handleSelectorClick\",\n    value: function handleSelectorClick() {\n      this.refs.searchInput.refs.input.focus();\n    }\n  }, {\n    key: \"handleSearchInputChange\",\n    value: function handleSearchInputChange(e) {\n      var _this3 = this;\n\n      var searchValue = e.target.value;\n\n      this.setState({\n        searchValue: searchValue\n      });\n\n      var updateState = function updateState(displayedItemsKeys) {\n        var items = _this3.state.items;\n        items.keys.displayed = displayedItemsKeys;\n\n        _this3.setState({\n          items: items,\n          focusedItem: items.keys.displayed.filter(function (itemKey) {\n            return ! ~items.keys.selected.indexOf(itemKey);\n          })[0] || null\n        });\n      };\n\n      if (!searchValue.length) {\n        updateState(this.state.items.keys.started);\n        return;\n      }\n\n      this.goSearch(searchValue, function (foundItemsKeys) {\n        updateState(foundItemsKeys.slice(0, _this3.props.maxDisplayedItems));\n      });\n    }\n  }, {\n    key: \"handleSearchInputKeyDown\",\n    value: function handleSearchInputKeyDown(e) {\n      var _this4 = this;\n\n      var focusedItem = this.state.focusedItem;\n      var displayedItems = this.getNotSelectedItems();\n      var focusedItemIndex = displayedItems.indexOf(focusedItem);\n      var updateState = function updateState(focusedItemIndex) {\n        _this4.setState({\n          focusedItem: displayedItems[focusedItemIndex] || null\n        });\n      };\n\n      switch (e.key) {\n        case \"ArrowDown\":\n          updateState(focusedItemIndex < displayedItems.length - 1 ? focusedItemIndex + 1 : 0);\n          break;\n        case \"ArrowUp\":\n          updateState(focusedItemIndex == 0 ? displayedItems.length - 1 : focusedItemIndex - 1);\n          break;\n        case \"Enter\":\n          this.addItemToSelected(focusedItem);\n\n          updateState(focusedItemIndex < displayedItems.length - 1 ? focusedItemIndex + 1 : focusedItemIndex - 1);\n          break;\n      }\n    }\n  }, {\n    key: \"handleSearchInputFocus\",\n    value: function handleSearchInputFocus() {\n      this.refs.items.setHidden(false);\n      this.setState({\n        focusedItem: this.getNotSelectedItems()[0] || null\n      });\n      var item = this.refs[\"item-\" + this.state.focusedItem];\n      if (item) item.setFocused(true);\n    }\n  }, {\n    key: \"handleSearchInputBlur\",\n    value: function handleSearchInputBlur() {\n      this.refs.items.setHidden(true);\n      var item = this.refs[\"item-\" + this.state.focusedItem];\n      if (item) item.setFocused(false);\n    }\n  }, {\n    key: \"handleSelectedItemClick\",\n    value: function handleSelectedItemClick(itemKey) {\n      this.removeItemFromSelected(itemKey);\n    }\n  }, {\n    key: \"handleItemClick\",\n    value: function handleItemClick(itemKey) {\n      this.addItemToSelected(itemKey);\n    }\n  }, {\n    key: \"handleItemHover\",\n    value: function handleItemHover(itemKey) {\n      if (this.state.focusedItem == itemKey) return;\n      this.setState({\n        focusedItem: itemKey\n      });\n    }\n  }, {\n    key: \"dropdownChange\",\n    value: function dropdownChange() {\n      var _this5 = this;\n\n      if (!this.props.onChange) return;\n\n      this.props.onChange(this.state.items.keys.selected.reduce(function (selectedItems, itemKey) {\n        selectedItems.push(_this5.state.items.collection[itemKey]);\n        return selectedItems;\n      }, []));\n    }\n\n    /**\r\n     * Transform array of data for suitable collection of items.\r\n     *\r\n     * @param {Array} data\r\n     * @returns {{collection: {}, keys: {all: Array, started: Array, displayed: Array, selected: Array}}}\r\n     */\n\n  }, {\n    key: \"transformArrayToItems\",\n    value: function transformArrayToItems(data, maxDisplayedItems) {\n      maxDisplayedItems = maxDisplayedItems || this.props.maxDisplayedItems;\n\n      var items = {\n        collection: {},\n        keys: {\n          all: [],\n          started: [],\n          displayed: [],\n          selected: []\n        }\n      };\n\n      if (data && data.length) {\n        items.keys.all = data.map(function (item) {\n          return item.id;\n        });\n        var startedItems = items.keys.all.slice(0, maxDisplayedItems);\n        items.keys.started = startedItems;\n        items.keys.displayed = startedItems;\n        items.collection = data.reduce(function (obj, item) {\n          obj[item.id] = item;\n          return obj;\n        }, {});\n      }\n\n      return items;\n    }\n\n    /**\r\n     * Function create an ajax GET request to url and give response in callback.\r\n     *\r\n     * @param {string} url\r\n     * @param {Function} callback\r\n     */\n\n  }, {\n    key: \"sendRequest\",\n    value: function sendRequest(url, callback) {\n      var xhr = undefined;\n      try {\n        xhr = new ActiveXObject(\"Msxml2.XMLHTTP\");\n      } catch (e) {\n        try {\n          xhr = new ActiveXObject(\"Microsoft.XMLHTTP\");\n        } catch (E) {\n          xhr = false;\n        }\n      }\n      if (!xhr && typeof XMLHttpRequest != \"undefined\") {\n        xhr = new XMLHttpRequest();\n      }\n\n      xhr.open(\"GET\", url, true);\n\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState == 4) {\n          if (xhr.status == 200) {\n            callback(xhr);\n          }\n        }\n      };\n\n      xhr.send();\n    }\n\n    /**\r\n     * Search item, which contain string like q. Search in local and on server.\r\n     *\r\n     * @param {string} q\r\n     * @param {Function} callback\r\n     */\n\n  }, {\n    key: \"goSearch\",\n    value: function goSearch(q, callback) {\n      var _this6 = this;\n\n      if (!q.length) {\n        return;\n      }\n\n      var foundItemsKeys = [];\n      var fields = [\"title\"];\n\n      this.state.items.keys.all.forEach(function (itemKey) {\n        if (_itemChecker2.default.check(q, _this6.state.items.collection[itemKey], fields)) foundItemsKeys.push(itemKey);\n      });\n\n      if (!this.hasRemoteSearch()) {\n        callback(foundItemsKeys);\n        return;\n      }\n\n      this.sendRequest(this.props.remoteSearch.url + \"?q=\" + q + \"&search_in=\" + this.props.remoteSearch.fields, function (xhr) {\n        var response = JSON.parse(xhr.responseText);\n        var serverFoundItemsKeys = response.items.map(function (item) {\n          return item.id;\n        });\n\n        if (serverFoundItemsKeys.length) {\n          foundItemsKeys = foundItemsKeys.concat(serverFoundItemsKeys.filter(function (itemKey) {\n            return ! ~foundItemsKeys.indexOf(itemKey);\n          }));\n        }\n\n        callback(foundItemsKeys);\n      });\n    }\n\n    /**\r\n     * Add itemKey to array of selected items in state.\r\n     * If component is multiple, itemKey will be added to array, else will create array contained only one selected item.\r\n     *\r\n     * @param {number} itemKey\r\n     */\n\n  }, {\n    key: \"addItemToSelected\",\n    value: function addItemToSelected(itemKey) {\n      var items = this.state.items;\n      items.keys.selected = this.props.multiple ? this.state.items.keys.selected.concat(itemKey) : [itemKey];\n\n      this.setState({\n        items: items\n      });\n\n      this.dropdownChange();\n    }\n\n    /**\r\n     * Remove itemKey from array of selected items in state.\r\n     *\r\n     * @param {number} itemKey\r\n     */\n\n  }, {\n    key: \"removeItemFromSelected\",\n    value: function removeItemFromSelected(itemKey) {\n      var s = this.state.items.keys.selected;\n\n      s.splice(s.indexOf(itemKey), 1);\n\n      var items = this.state.items;\n      items.keys.selected = s;\n\n      this.setState({\n        items: items,\n        focusedItem: this.state.items.keys.displayed.filter(function (itemKey) {\n          return ! ~s.indexOf(itemKey);\n        })[0]\n      });\n\n      this.dropdownChange();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var _state = this.state;\n      var dropdownId = _state.dropdownId;\n      var items = _state.items;\n\n      return _react2.default.createElement(\n        \"div\",\n        { className: \"dropdown\" },\n        _react2.default.createElement(\n          _Label2.default,\n          { idPrefix: dropdownId },\n          this.props.label\n        ),\n        _react2.default.createElement(\n          \"div\",\n          {\n            className: \"dropdown-selector\",\n            onClick: this.handleSelectorClick.bind(this) },\n          items.keys.selected.map(function (itemKey) {\n            return _react2.default.createElement(_SelectedItem2.default, _extends({\n              key: itemKey,\n              idPrefix: dropdownId\n            }, items.collection[itemKey], {\n              onClick: _this7.handleSelectedItemClick.bind(_this7, itemKey) }));\n          }),\n          _react2.default.createElement(_SearchInput2.default, {\n            ref: \"searchInput\",\n            idPrefix: dropdownId,\n            value: this.state.searchValue,\n            placeholder: this.props.placeholder,\n            onChange: this.handleSearchInputChange.bind(this),\n            onFocus: this.handleSearchInputFocus.bind(this),\n            onBlur: this.handleSearchInputBlur.bind(this),\n            onKeyDown: this.handleSearchInputKeyDown.bind(this) })\n        ),\n        _react2.default.createElement(\n          _Items2.default,\n          {\n            ref: \"items\",\n            idPrefix: dropdownId,\n            focusedItem: this.state.focusedItem },\n          items.keys.displayed.map(function (itemKey) {\n            return _react2.default.createElement(_Item2.default, _extends({\n              ref: \"item-\" + itemKey,\n              key: itemKey,\n              idPrefix: dropdownId\n            }, items.collection[itemKey], {\n              selected: !! ~items.keys.selected.indexOf(itemKey),\n              showImages: _this7.props.showImages,\n              onClick: _this7.handleItemClick.bind(_this7, itemKey),\n              onHover: _this7.handleItemHover.bind(_this7, itemKey) }));\n          })\n        )\n      );\n    }\n  }]);\n\n  return ReactUIDropdown;\n})(_react.Component);\n\nexports.default = ReactUIDropdown;\n\nReactUIDropdown.propTypes = {\n  initialItems: _react.PropTypes.array.isRequired,\n  remoteSearch: _react.PropTypes.shape({\n    url: _react2.default.PropTypes.string,\n    fields: _react2.default.PropTypes.oneOfType([_react2.default.PropTypes.array, _react2.default.PropTypes.string])\n  }),\n  maxDisplayedItems: _react.PropTypes.number,\n  label: _react.PropTypes.string.isRequired,\n  placeholder: _react.PropTypes.string,\n  showImages: _react.PropTypes.bool,\n  multiple: _react.PropTypes.bool,\n  onChange: _react.PropTypes.func\n};\nReactUIDropdown.defaultProps = {\n  maxDisplayedItems: 10,\n  showImages: true,\n  multiple: true\n};"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}