{"ast":null,"code":"import _objectSpread from\"/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _defineProperty from\"/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Link}from'react-router-dom';import logoMarket from\"../Images/Logo_MarketPlace.png\";import{Container}from\"./LoginStyle\";// import '../Styles/login.css';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.handleSubmit=function(event){event.preventDefault();var that=_assertThisInitialized(_this);fetch('http://localhost:5000/www/login.php',{// fetch('http://localhost/backend/login.php', {\nmethod:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({Email:_this.state.email,Password:_this.state.password})}).then(function(response){return response.json();}).then(function(data){if(data.status){sessionStorage.setItem(\"id\",data.UserId);sessionStorage.setItem(\"name\",data.FirstName);sessionStorage.setItem(\"typeOfAccount\",data.TypeAccount);sessionStorage.setItem(\"accountID\",data.accountID);that.setState(_objectSpread(_objectSpread({},that.state),{},{message:data.message}));window.location.replace(\"/\");}else{that.setState(_objectSpread(_objectSpread({},that.state),{},{message:'Invalid user'}));}});};_this.state={email:'',password:'',message:''};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"img\",{src:logoMarket,className:\"farmLogin\",alt:\"logo\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"formLogin\",onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email \"}),/*#__PURE__*/_jsx(\"input\",{className:\"loginInput\",type:\"text\",name:\"email\",placeholder:\"email\",value:this.state.username,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password \"}),/*#__PURE__*/_jsx(\"input\",{className:\"loginInput\",type:\"password\",name:\"password\",placeholder:\"Password\",value:this.state.password,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.message})]}),/*#__PURE__*/_jsx(Link,{className:\"linkTo\",to:\"/createAccount\",children:\"Create Account\"})]});}}]);return Login;}(Component);export default Login;// import React from 'react';\n// import { useState } from 'react';\n// import { useNavigate } from 'react-router';\n// import axios from 'axios';\n// function Login() {\n//   const navigate=useNavigate();\n//   const [data,setData]=useState({\n//     email:\"\",\n//     password:\"\",\n//   })\n//   const handleChange=(e)=>{\n//     setData({...data,[e.target.name]:e.target.value})\n//   }\n//   const submitForm=(e)=>{\n//     e.preventDefault();\n//     const sendData={\n//       email:data.email,\n//       password:data.password,\n//     }\n//     setData({\n//       email:\"\",\n//       password:\"\",\n//     })\n//     axios.post('http://localhost/farm_marketplace/src/Backend/login.php',sendData)\n//     .then(res=> console.log(res.data))\n//     .then(navigate('/'))\n//     .then(res=>window.localStorage.setItem('name',res.data.name))\n//     .catch(error => {\n//       console.log(error.response)\n//   });\n//   }\n//   return (\n//     <div>\n//     <h3>Login</h3>\n//       <form onSubmit={submitForm} >\n//   <div className=\"mb-3\">\n//     <label for=\"exampleInputEmail1\" className=\"form-label\">Email address</label>\n//     <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" name=\"email\"  onChange={handleChange} value={data.name}/>\n//     <div id=\"emailHelp\" className=\"form-text\">We'll never share your email with anyone else.</div>\n//   </div>\n//   <div className=\"mb-3\">\n//     <label for=\"exampleInputPassword1\" className=\"form-label\">Password</label>\n//     <input type=\"password\" className=\"form-control\" id=\"exampleInputPassword1\" name='password' onChange={handleChange} value={data.name}/>\n//   </div>\n//   <div className=\"mb-3 form-check\">\n//     <input type=\"checkbox\" className=\"form-check-input\" id=\"exampleCheck1\"/>\n//     <label className=\"form-check-label\" for=\"exampleCheck1\">Check me out</label>\n//   </div>\n//   <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n// </form>\n//     </div>\n//   );\n// }\n// export default Login;","map":{"version":3,"names":["React","Component","Link","logoMarket","Container","Login","props","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","that","fetch","method","headers","body","JSON","stringify","Email","state","email","Password","password","then","response","json","data","status","sessionStorage","setItem","UserId","FirstName","TypeAccount","accountID","message","window","location","replace","username"],"sources":["/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/src/Components/Login.js"],"sourcesContent":["\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport logoMarket from \"../Images/Logo_MarketPlace.png\"\nimport { Container } from \"./LoginStyle\";\n// import '../Styles/login.css';\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: '',\n            password: '',\n            message: ''\n        }; \n    \n    }\n    handleChange = event => {\n        this.setState({ [event.target.name]: event.target.value });\n    };\n    handleSubmit = event => {\n        event.preventDefault();\n        var that = this;\n        \n        fetch('http://localhost:5000/www/login.php', {\n        // fetch('http://localhost/backend/login.php', {\n            method: 'POST',\n            headers: {\n            'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                Email: this.state.email,\n                Password: this.state.password\n            }) \n        })\n        .then(function (response) {\n            return response.json();\n        })\n        .then(function (data) {\n            if(data.status){\n                sessionStorage.setItem(\"id\", data.UserId);\n                sessionStorage.setItem(\"name\", data.FirstName);\n                sessionStorage.setItem(\"typeOfAccount\", data.TypeAccount);\n                sessionStorage.setItem(\"accountID\", data.accountID);\n               that.setState({...that.state, message: data.message})\n               window.location.replace(\"/\");\n            }else{\n                that.setState({...that.state, message: 'Invalid user'})\n            }\n            \n        });\n    }; \n\n\nrender() {\n    return (\n        <Container>\n            <img src={logoMarket} className=\"farmLogin\" alt=\"logo\" />\n            <form className=\"formLogin\" onSubmit={this.handleSubmit}>\n                <label htmlFor=\"email\">Email </label> \n                <input className = \"loginInput\" type=\"text\" name=\"email\" placeholder=\"email\" value={this.state.username} onChange={this.handleChange} required/>\n                <br/>\n                <label htmlFor=\"password\">Password </label> \n                <input className = \"loginInput\" type=\"password\" name=\"password\" placeholder=\"Password\" value={this.state.password} onChange={this.handleChange}required/>\n                <br/>\n                <button type=\"submit\">Login</button>\n                <p>{this.state.message}</p>\n            </form>\n            <Link className='linkTo' to=\"/createAccount\">Create Account</Link>\n            {/* <Link className='linkTo' to=\"/www/createAccount\">Create Account</Link> */}\n\n        </Container>\n    );\n    }\n}\n\n   export default Login; \n\n\n\n\n\n// import React from 'react';\n// import { useState } from 'react';\n// import { useNavigate } from 'react-router';\n// import axios from 'axios';\n// function Login() {\n//   const navigate=useNavigate();\n//   const [data,setData]=useState({\n//     email:\"\",\n//     password:\"\",\n    \n//   })\n//   const handleChange=(e)=>{\n//     setData({...data,[e.target.name]:e.target.value})\n//   }\n//   const submitForm=(e)=>{\n//     e.preventDefault();\n//     const sendData={\n//       email:data.email,\n//       password:data.password,\n//     }\n//     setData({\n//       email:\"\",\n//       password:\"\",\n//     })\n//     axios.post('http://localhost/farm_marketplace/src/Backend/login.php',sendData)\n//     .then(res=> console.log(res.data))\n//     .then(navigate('/'))\n//     .then(res=>window.localStorage.setItem('name',res.data.name))\n//     .catch(error => {\n//       console.log(error.response)\n//   });\n//   }\n//   return (\n//     <div>\n//     <h3>Login</h3>\n//       <form onSubmit={submitForm} >\n//   <div className=\"mb-3\">\n//     <label for=\"exampleInputEmail1\" className=\"form-label\">Email address</label>\n//     <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" name=\"email\"  onChange={handleChange} value={data.name}/>\n//     <div id=\"emailHelp\" className=\"form-text\">We'll never share your email with anyone else.</div>\n//   </div>\n//   <div className=\"mb-3\">\n//     <label for=\"exampleInputPassword1\" className=\"form-label\">Password</label>\n//     <input type=\"password\" className=\"form-control\" id=\"exampleInputPassword1\" name='password' onChange={handleChange} value={data.name}/>\n//   </div>\n//   <div className=\"mb-3 form-check\">\n//     <input type=\"checkbox\" className=\"form-check-input\" id=\"exampleCheck1\"/>\n//     <label className=\"form-check-label\" for=\"exampleCheck1\">Check me out</label>\n//   </div>\n//   <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n// </form>\n//     </div>\n//   );\n// }\n\n// export default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}