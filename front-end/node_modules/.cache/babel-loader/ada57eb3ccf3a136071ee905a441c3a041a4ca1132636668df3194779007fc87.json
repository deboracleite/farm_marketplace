{"ast":null,"code":"import _slicedToArray from\"/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from'react';import{Link}from'react-router-dom';import logoMarket from\"../Images/Logo_MarketPlace.png\";import{Container}from\"./LoginStyle\";import{AppContext}from'./AppProvider';// import '../Styles/login.css';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useContext=useContext(AppContext),url=_useContext.url,path=_useContext.path;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setmMssage=_useState6[1];var handleSubmit=function handleSubmit(event){event.preventDefault();fetch(url+'login.php',{// fetch('http://localhost/backend/login.php', {\nmethod:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({Email:email,Password:password})}).then(function(response){return response.json();}).then(function(data){if(data.status){sessionStorage.setItem(\"id\",data.UserId);sessionStorage.setItem(\"name\",data.FirstName);sessionStorage.setItem(\"typeOfAccount\",data.TypeAccount);sessionStorage.setItem(\"accountID\",data.accountID);setmMssage(data.message);window.location.replace(path);// navigate('/');\n}else{setmMssage('Invalid user');}});};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"img\",{src:logoMarket,className:\"farmLogin\",alt:\"logo\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"formLogin\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email \"}),/*#__PURE__*/_jsx(\"input\",{className:\"loginInput\",type:\"text\",name:\"email\",placeholder:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password \"}),/*#__PURE__*/_jsx(\"input\",{className:\"loginInput\",type:\"password\",name:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"}),/*#__PURE__*/_jsx(\"p\",{children:message})]}),/*#__PURE__*/_jsx(Link,{className:\"linkTo\",to:\"/createAccount\",children:\"Create Account\"})]});};export default Login;//    class Login extends Component {\n//     constructor(props) {\n//         super(props);\n//         this.state = {\n//             email: '',\n//             password: '',\n//             message: ''\n//         }; \n//     }\n//     handleChange = event => {\n//         this.setState({ [event.target.name]: event.target.value });\n//     };\n//     handleSubmit = event => {\n//         event.preventDefault();\n//         var that = this;\n//         fetch('http://localhost:5000/www/login.php', {\n//         // fetch('http://localhost/backend/login.php', {\n//             method: 'POST',\n//             headers: {\n//             'Content-Type': 'application/json'\n//             },\n//             body: JSON.stringify({\n//                 Email: this.state.email,\n//                 Password: this.state.password\n//             }) \n//         })\n//         .then(function (response) {\n//             return response.json();\n//         })\n//         .then(function (data) {\n//             if(data.status){\n//                 sessionStorage.setItem(\"id\", data.UserId);\n//                 sessionStorage.setItem(\"name\", data.FirstName);\n//                 sessionStorage.setItem(\"typeOfAccount\", data.TypeAccount);\n//                 sessionStorage.setItem(\"accountID\", data.accountID);\n//                that.setState({...that.state, message: data.message})\n//                window.location.replace(\"/\");\n//             }else{\n//                 that.setState({...that.state, message: 'Invalid user'})\n//             }\n//         });\n//     }; \n// render() {\n//     return (\n//         <Container>\n//             <img src={logoMarket} className=\"farmLogin\" alt=\"logo\" />\n//             <form className=\"formLogin\" onSubmit={this.handleSubmit}>\n//                 <label htmlFor=\"email\">Email </label> \n//                 <input className = \"loginInput\" type=\"text\" name=\"email\" placeholder=\"email\" value={this.state.username} onChange={this.handleChange} required/>\n//                 <br/>\n//                 <label htmlFor=\"password\">Password </label> \n//                 <input className = \"loginInput\" type=\"password\" name=\"password\" placeholder=\"Password\" value={this.state.password} onChange={this.handleChange}required/>\n//                 <br/>\n//                 <button type=\"submit\">Login</button>\n//                 <p>{this.state.message}</p>\n//             </form>\n//             <Link className='linkTo' to=\"/createAccount\">Create Account</Link>\n//             {/* <Link className='linkTo' to=\"/www/createAccount\">Create Account</Link> */}\n//         </Container>\n//     );\n//     }\n// }\n//    export default Login;","map":{"version":3,"names":["React","useState","useContext","Link","logoMarket","Container","AppContext","Login","url","path","email","setEmail","password","setPassword","message","setmMssage","handleSubmit","event","preventDefault","fetch","method","headers","body","JSON","stringify","Email","Password","then","response","json","data","status","sessionStorage","setItem","UserId","FirstName","TypeAccount","accountID","window","location","replace","e","target","value"],"sources":["/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/src/Components/Login.js"],"sourcesContent":["\nimport React, {useState, useContext} from 'react';\nimport { Link } from 'react-router-dom';\nimport logoMarket from \"../Images/Logo_MarketPlace.png\"\nimport { Container } from \"./LoginStyle\";\nimport { AppContext } from './AppProvider';\n// import '../Styles/login.css';\n\nconst Login  = () => {\n    const { url, path} = useContext(AppContext);\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [message, setmMssage] = useState('');\n\n\n    const handleSubmit = event => {\n        event.preventDefault();\n        \n        fetch(url + 'login.php', {\n        // fetch('http://localhost/backend/login.php', {\n            method: 'POST',\n            headers: {\n            'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                Email: email,\n                Password: password\n            }) \n        })\n        .then(function (response) {\n            return response.json();\n        })\n        .then(function (data) {\n            if(data.status){\n                sessionStorage.setItem(\"id\", data.UserId);\n                sessionStorage.setItem(\"name\", data.FirstName);\n                sessionStorage.setItem(\"typeOfAccount\", data.TypeAccount);\n                sessionStorage.setItem(\"accountID\", data.accountID);\n                setmMssage(data.message);\n                window.location.replace(path);\n                // navigate('/');\n            }else{\n                setmMssage('Invalid user');\n            }\n            \n        });\n    }; \n\n\n    return (\n        <Container>\n            <img src={logoMarket} className=\"farmLogin\" alt=\"logo\" />\n            <form className=\"formLogin\" onSubmit={handleSubmit}>\n                <label htmlFor=\"email\">Email </label> \n                <input className = \"loginInput\" type=\"text\" name=\"email\" placeholder=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} required/>\n                <br/>\n                <label htmlFor=\"password\">Password </label> \n                <input className = \"loginInput\" type=\"password\" name=\"password\" placeholder=\"Password\" value={password} onChange={(e) => setPassword(e.target.value)} required/>\n                <br/>\n                <button type=\"submit\">Login</button>\n                <p>{message}</p>\n            </form>\n            <Link className='linkTo' to=\"/createAccount\">Create Account</Link>\n            {/* <Link className='linkTo' to=\"/www/createAccount\">Create Account</Link> */}\n\n        </Container>\n    );\n}\n\n   export default Login; \n\n\n\n\n//    class Login extends Component {\n//     constructor(props) {\n//         super(props);\n//         this.state = {\n//             email: '',\n//             password: '',\n//             message: ''\n//         }; \n    \n//     }\n//     handleChange = event => {\n//         this.setState({ [event.target.name]: event.target.value });\n//     };\n//     handleSubmit = event => {\n//         event.preventDefault();\n//         var that = this;\n        \n//         fetch('http://localhost:5000/www/login.php', {\n//         // fetch('http://localhost/backend/login.php', {\n//             method: 'POST',\n//             headers: {\n//             'Content-Type': 'application/json'\n//             },\n//             body: JSON.stringify({\n//                 Email: this.state.email,\n//                 Password: this.state.password\n//             }) \n//         })\n//         .then(function (response) {\n//             return response.json();\n//         })\n//         .then(function (data) {\n//             if(data.status){\n//                 sessionStorage.setItem(\"id\", data.UserId);\n//                 sessionStorage.setItem(\"name\", data.FirstName);\n//                 sessionStorage.setItem(\"typeOfAccount\", data.TypeAccount);\n//                 sessionStorage.setItem(\"accountID\", data.accountID);\n//                that.setState({...that.state, message: data.message})\n//                window.location.replace(\"/\");\n//             }else{\n//                 that.setState({...that.state, message: 'Invalid user'})\n//             }\n            \n//         });\n//     }; \n\n\n// render() {\n//     return (\n//         <Container>\n//             <img src={logoMarket} className=\"farmLogin\" alt=\"logo\" />\n//             <form className=\"formLogin\" onSubmit={this.handleSubmit}>\n//                 <label htmlFor=\"email\">Email </label> \n//                 <input className = \"loginInput\" type=\"text\" name=\"email\" placeholder=\"email\" value={this.state.username} onChange={this.handleChange} required/>\n//                 <br/>\n//                 <label htmlFor=\"password\">Password </label> \n//                 <input className = \"loginInput\" type=\"password\" name=\"password\" placeholder=\"Password\" value={this.state.password} onChange={this.handleChange}required/>\n//                 <br/>\n//                 <button type=\"submit\">Login</button>\n//                 <p>{this.state.message}</p>\n//             </form>\n//             <Link className='linkTo' to=\"/createAccount\">Create Account</Link>\n//             {/* <Link className='linkTo' to=\"/www/createAccount\">Create Account</Link> */}\n\n//         </Container>\n//     );\n//     }\n// }\n\n//    export default Login; \n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}