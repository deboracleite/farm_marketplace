{"ast":null,"code":"import _regeneratorRuntime from\"/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Container}from\"./AddProductStyle\";// import '../Styles/addProduct.css';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddProduct=function AddProduct(){var farmerID=sessionStorage.getItem(\"accountID\");var _useState=useState(''),_useState2=_slicedToArray(_useState,2),productName=_useState2[0],setProductName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),productDescription=_useState4[0],setProductDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),productPrice=_useState6[0],setProductPrice=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),productQuantity=_useState8[0],setProductQuantity=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),productCategory=_useState10[0],setProductCategory=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),productImageURL=_useState12[0],setSelectedFile=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),message=_useState14[0],setMessage=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),selectedTypeOfProduct=_useState16[0],setSelectedTypeOfProduct=_useState16[1];var options=[{value:'fruitType',label:'Fruit'},{value:'vegetableType',label:'Vegetables'}];var handleClearForm=function handleClearForm(){setProductName('');setProductDescription('');setProductPrice('');setProductQuantity('');setProductCategory('');setSelectedFile(null);};var handleChange=function handleChange(event){setSelectedTypeOfProduct(event.target.value);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var formData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();formData=new FormData();formData.append(\"farmerID\",farmerID);formData.append(\"productName\",productName);formData.append(\"productDescription\",productDescription);formData.append(\"productPrice\",productPrice);formData.append(\"productQuantity\",productQuantity);formData.append(\"productCategory\",productCategory);formData.append(\"productImageURL\",productImageURL);// fetch('http://localhost:5000/www/addProduct.php', {\n_context.prev=9;_context.next=12;return fetch('http://localhost:5000/www/addProduct.php',{method:'POST',body:formData});case 12:setMessage(\"Product Registed\");alert('Product created successfully !!');handleClearForm();_context.next=21;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](9);console.error(_context.t0);alert('Error when register the product !!');case 21:case\"end\":return _context.stop();}},_callee,null,[[9,17]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Register a new product\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"formAddProduct\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{className:\"labelAddProduct\",htmlFor:\"productName\",children:\"Name: \"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputAddProduct\",type:\"text\",name:\"productName\",placeholder:\"Product Name\",value:productName,onChange:function onChange(e){return setProductName(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{className:\"labelAddProduct\",htmlFor:\"productDescription\",children:\"Description: \"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputAddProduct\",type:\"text\",name:\"productDescription\",placeholder:\"Product Description\",value:productDescription,onChange:function onChange(e){return setProductDescription(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{className:\"labelAddProduct\",htmlFor:\"productPrice\",children:\"Price: \"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputAddProduct\",type:\"text\",name:\"productPrice\",placeholder:\"Product Price\",value:productPrice,onChange:function onChange(e){return setProductPrice(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{className:\"labelAddProduct\",htmlFor:\"productQuantity\",children:\"Quantity: \"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputAddProduct\",type:\"text\",name:\"productQuantity\",placeholder:\"Product Quantity\",value:productQuantity,onChange:function onChange(e){return setProductQuantity(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{className:\"labelAddProduct\",htmlFor:\"productCategory\",children:\"Category \"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedTypeOfProduct,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Category\"}),options.map(function(option){return/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value);})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{className:\"labelAddProduct\",htmlFor:\"productImageURL\",children:\"Upload the product image: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:function onChange(e){return setSelectedFile(e.target.files[0]);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Creat account\"}),/*#__PURE__*/_jsx(\"p\",{children:message})]})]});};export default AddProduct;","map":{"version":3,"names":["React","useState","Container","AddProduct","farmerID","sessionStorage","getItem","productName","setProductName","productDescription","setProductDescription","productPrice","setProductPrice","productQuantity","setProductQuantity","productCategory","setProductCategory","productImageURL","setSelectedFile","message","setMessage","selectedTypeOfProduct","setSelectedTypeOfProduct","options","value","label","handleClearForm","handleChange","event","target","handleSubmit","preventDefault","formData","FormData","append","fetch","method","body","alert","console","error","e","map","option","files"],"sources":["/Users/deboraleite/Documents/Conestoga/2_Term/Web_Technologies/Final project/farm_marketplace/front-end/src/Components/AddProduct.js"],"sourcesContent":["import React, {useState} from 'react';\nimport { Container } from \"./AddProductStyle\";\n// import '../Styles/addProduct.css';\n\nconst AddProduct = () =>   {\n\n    const farmerID = sessionStorage.getItem(\"accountID\");\n    const [productName, setProductName] = useState('');\n    const [productDescription, setProductDescription] = useState('');\n    const [productPrice, setProductPrice] = useState('');\n    const [productQuantity, setProductQuantity] = useState('');\n    const [productCategory, setProductCategory] = useState('');\n    const [productImageURL, setSelectedFile] = useState(null);\n    const [message, setMessage] = useState(\"\");\n    const [selectedTypeOfProduct, setSelectedTypeOfProduct] = useState('');\n\n    const options = [\n        { value: 'fruitType', label: 'Fruit' },\n        { value: 'vegetableType', label: 'Vegetables' }\n      ];\n\n    const handleClearForm = () => {\n        setProductName('');\n        setProductDescription('');\n        setProductPrice('');\n        setProductQuantity('');\n        setProductCategory('');\n        setSelectedFile(null);\n    }\n\n    const handleChange = (event) => {\n        setSelectedTypeOfProduct(event.target.value);\n      }\n\n   const handleSubmit = async event => {\n        event.preventDefault();\n\n        const formData = new FormData();\n        formData.append(\"farmerID\", farmerID);\n        formData.append(\"productName\", productName);\n        formData.append(\"productDescription\", productDescription);\n        formData.append(\"productPrice\", productPrice);\n        formData.append(\"productQuantity\", productQuantity);\n        formData.append(\"productCategory\", productCategory);\n        formData.append(\"productImageURL\", productImageURL);\n        \n        // fetch('http://localhost:5000/www/addProduct.php', {\n        try{\n            // await fetch('http://localhost/backend/addProduct.php', {\n            await fetch('http://localhost:5000/www/addProduct.php', {\n                method: 'POST',\n                body: formData\n            })\n            \n            setMessage(\"Product Registed\");\n\n            alert('Product created successfully !!');\n\n            handleClearForm();\n\n        }catch(e){\n            console.error(e);\n            alert('Error when register the product !!');\n        }\n    \n     \n    }; \n\n    return (\n        <Container>\n        <h1>Register a new product</h1>\n        <form  className=\"formAddProduct\" onSubmit={handleSubmit} >\n            \n            <label className = \"labelAddProduct\" htmlFor=\"productName\">Name: </label> \n            <input className = \"inputAddProduct\" type=\"text\" name=\"productName\" placeholder=\"Product Name\" value= {productName} onChange={(e) => setProductName(e.target.value)} required/>\n            <br/>\n            <label className = \"labelAddProduct\" htmlFor=\"productDescription\">Description: </label> \n            <input className = \"inputAddProduct\" type=\"text\" name=\"productDescription\" placeholder=\"Product Description\" value={productDescription} onChange={(e) => setProductDescription(e.target.value)} required/>\n            <br/>\n            <label className = \"labelAddProduct\" htmlFor=\"productPrice\">Price: </label> \n            <input className = \"inputAddProduct\" type=\"text\" name=\"productPrice\" placeholder=\"Product Price\" value={productPrice} onChange={(e) => setProductPrice(e.target.value)} required/>\n            <br/>\n            <label className = \"labelAddProduct\" htmlFor=\"productQuantity\">Quantity: </label> \n            <input className = \"inputAddProduct\" type=\"text\" name=\"productQuantity\" placeholder=\"Product Quantity\" value= {productQuantity} onChange={(e) => setProductQuantity(e.target.value)} required/>\n            <br/>\n            <label className = \"labelAddProduct\" htmlFor=\"productCategory\">Category </label> \n            <select value={selectedTypeOfProduct} onChange={handleChange}>\n                <option value=\"\">Category</option>\n                {options.map((option) => (\n                    <option key={option.value} value={option.value}>{option.label}</option>\n                ))}\n            </select>\n            {/* <input className = \"inputAddProduct\" type=\"text\" name=\"productCategory\" placeholder=\"Product Category\" value={productCategory} onChange={(e) => setProductCategory(e.target.value)} required/> */}\n            <br/>\n            <label className = \"labelAddProduct\" htmlFor=\"productImageURL\">Upload the product image: </label> \n            <input type=\"file\" onChange={(e) => setSelectedFile(e.target.files[0])}/>\n\n            <button type=\"submit\">Creat account</button>\n            <p>{message}</p>\n        </form>\n        </Container>\n    );\n}\n\n   export default AddProduct; \n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}